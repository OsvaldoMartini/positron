extend ../../components/layout/templates/index
include ../../../node_modules/artsy-ezel-components/pagination/paginator

block content
  h1.page-header
    if published
      .max-width-container Published Articles
    else
      .max-width-container Drafts
  #article-list-items.max-width-container
    ul
      for article in articles
        li
          section
            a( href="/articles/#{article.get('id')}/edit" )
              .article-list-item-left
                if article.get('thumbnail_image')
                  img( src=article.get('thumbnail_image') )
                else
                  .article-list-item-placeholder
              .article-list-item-right
                .article-list-item-tags
                  if article.get('tags') && article.get('tags').length
                    ul
                      for tag in article.get('tags')
                        li= tag
                  else
                    span.article-list-missing Missing tags
                if article.get('thumbnail_title')
                  h1= article.get('thumbnail_title')
                else
                  h1.article-list-missing Missing title
                if article.get('thumbnail_teaser')
                  h2= article.get('thumbnail_teaser')
                else
                  h2.article-list-missing Missing teaser
                .article-list-items-dates
                  if article.get('published_at')
                    strong Published #{moment(article.get('published_at')).fromNow()}
                    | Last saved #{moment(article.get('updated_at')).fromNow()}
                  else
                    strong Last saved #{moment(article.get('updated_at')).fromNow()}
    #article-list-pagination
      +paginate(page, totalPages)